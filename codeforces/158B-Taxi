#include<bits/stdc++.h>
using namespace std ;
int main()
{
    vector<long long int>v;
    int n ;
    cin>>n;
    for(long long int i=0;i<n;i++)
    {
        int x ;
        cin>>x;
        v.push_back(x);
    }

    int c1=0,c2=0,c3=0,c4=0;
int c ;
    for(long long int i=0;i<n;i++)
    {
        if(v[i]==4)c4++;
        if(v[i]==3)c3++;
        if(v[i]==2)c2++;
        if(v[i]==1)c1++;

    }
    if(n==1)cout<<"1"<<endl;
    else if(c4==n)cout<<c4;
    else if(c3==n)cout<<c3;
    else if(c2==n)
    {
        if(c2<=2)cout<<"1"<<endl;
        else
        {
            if(c2%2==0)cout<<c2/2<<endl;
            else cout<<(c2/2)+1<<endl;
        }
    }
    else if(c1==n)
    {
        if(c1<=4)cout<<"1"<<endl;
        else
        {
            if(c4%4==0)cout<<c1/4<<endl;
           else cout<<(c1/4)+1<<endl;
        }
    }
    else
    {
        int ans =0 ;

        if(c3>=c1)
        {
            if(c2%2==0)
            {
                ans=c4+c3+(c2/2);
            }
            else{
            ans=c4+c3+(c2/2)+1;
            }
        }

        else
        {
            int a = c1-c3;
            int b ;
            if(c2%2==0){
                    if(a%4==0){
             b = a/4;
                    }
                    else
                    {
                        b= (a/4)+1;
                    }



            if(a>=4){
            ans =c4+c3+b+(c2/2);
            }
            else
            {
                ans = c4+c3+(c2/2)+1;
            }
            }
            else
            {
                //int b = a/4;
                if(a>=2){
int d;
                 c = a-2;
                if(c%4==0)
                {
                    d=c/4;
                }
                else
                {
                    d=(c/4)+1;
                }
                ans = c4+c3+d+(c2/2)+1;
                }
                else
                {
                    ans=c4+c3+(c2/2)+1;
                }
            }
        }
        cout<<ans<<endl;
        //cout<<c;
        ans =0;
    }


    return 0 ;
}
